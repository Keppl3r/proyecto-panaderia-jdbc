00000215752
Kevin

Usuarios(
id_usuario int,
nombres varchar(100),
apellido_paterno varchar(100),
apellido_materno varchar(100),
fecha_nacimiento date,
edad int derivado de fecha_nacimiento,
calle varchar(100),
numero varchar(10),
colonia varchar(100),
es_empleado boolean
)

Telefonos(
id_telefono int,
etiqueta varchar(20),
numero varchar(13),
id_usuario int
)id_usuario proviene de Usuarios

Cupones(
id_cupon int,
porcentaje_descuento decimal(5,2),
fecha_inicio datetime,
fecha_fin datetime,
n_usos int derivado
)

Productos(
id_producto int,
nombre varchar(100),
tipo varchar(50),
descripcion varchar(200),
precio decimal(10,2),
disponible boolean
)

Ingredientes(
id_ingrediente int,
nombre varchar(100)
)

Producto_ingredientes(
id_producto int,
id_ingrediente int
)id_producto proviene de Productos, id_ingrediente proviene de Ingredientes (Relación Muchos a Muchos)

Pedidos(
id_pedido int,
num_pedido int,
estado varchar(30),
total decimal(10,2) derivado de Detalle_pedidos,
id_usuario int (opcional),
id_cupon int (opcional)
)id_usuario proviene de Usuarios, id_cupon proviene de Cupones

Detalle_pedidos(
id_detalle_pedido int,
id_pedido int,
id_producto int,
cantidad int,
precio_venta decimal(10,2),
subtotal decimal(10,2) derivado,
notas varchar(100) (opcional)
)id_pedido proviene de Pedidos, id_producto proviene de Productos

Pedidos_express(
id_pedido int,
folio varchar(20),
pin varchar(255) encriptado,
tiempo_limite datetime,
tiempo_recoleccion datetime
)id_pedido proviene de Pedidos (Especialización de Pedido)

Pagos(
id_pago int,
metodo_pago varchar(50),
id_pedido int
)id_pedido proviene de Pedidos

Historial_pedidos(
id_historial int,
estado varchar(30),
fecha_hora datetime,
id_pedido int
)id_pedido proviene de Pedidos